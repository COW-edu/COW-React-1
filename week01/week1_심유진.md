# HTML과 CSS

## **HTML**

- HTML 은 Hyper Text Markup Language 약어로 HyperText(웹 페이지에서 다른 페이지로 이동할 수 있도록 하는 것) 기능을 가진 문서를 만드는 언어입니다.
- 구조를 설계할 때 사용되는 언어로 hyper link 시스템을 가지고 있으며, 흔히 말하는 웹 페이지를 위한 마크업 언어라고 할 수 있습니다.
- 웹 문서를 만드는 언어입니다.

## **CSS**

- CSS (Cascading Style Sheets)는 웹페이지를 꾸미려고 작성하는 코드입니다.
- HTML 문서에 있는 요소들에 선택적으로 스타일을 적용할 수 있습니다.

---
# 브라우저와 CRP

웹 브라우저는 url을 통해 서버에 요청을 하고 그에 따른 HTML응답을 받는다. 

응답받은 HTML은 웹 페이지를 구성하는 여러 정보가 포함되어 있는데, 

웹 브라우저는 어떤 과정을 거쳐 HTML을 웹 페이지로 표현하는 지에 대해 정리한다.

Ex). 웹 페이지를 표현하는 과정 단순화

1. **크롬** 으로부터 **[https://youtube.com](https://youtube.com/)** 라는 요청을 함.

2. **youtube(라는 웹 브라우저)** 를 반환 받음.

(3. **PC 화면**에 **영상 뜸** .)

---


## 1. **CRP(Critical Rendering Path)**

> 중요 렌더링 경로 (*Critical Rendering Path*)는 브라우저가 HTML, CSS, Javascript를 화면에 픽셀로 변화하는 일련의 단계.
> 

---

### 1-1. **CRP 왜 함?**

- HTML은 웹 페이지를 구성하는 각 요소에 대한 정보와, CSS, JavaScript에 대한 정보를 포함하고있다.  하지만 그 내용은 평소 보던 웹 페이지와 많이 다르고 정보를 확인하기 어렵다.

- 중요 렌더링 경로의 각 단계가 최대한 효율적으로 이루어지도록 만들면(=`최적화`) 초기 컨텐츠를 화면에 빠르게 렌더링할 수 있다.
- 뿐만 아니라 페이지 초기 렌더링 이후 UI 상태가 변화되면 위 프로세스의 전체 혹은 일부를 거쳐 화면이 그려지게 되므로, CRP를 생각해 코드를 작성한다면 화면 업데이트 시간도 줄일 수 있다.

→ 따라서 웹 브라우저에서 HTML을 웹 페이지로 변환하게 되는데, 
   이 과정을 CRP(Critical Rendering Path)라고 한다.

---

### 1-2. **CRP 단계**

<img width="737" alt="스크린샷 2023-07-11 오후 6 49 17" src="https://github.com/COW-edu/COW-React-1/assets/98771235/720d3289-8de9-43b8-9be3-0897adb240d8">


1. HTML 데이터를 통해 DOM 트리를 빌드합니다.
    - **Parse HTML**
    - **Build DOM Tree**
2. CSS 데이터를 통해 CSSOM 트리를 빌드합니다.
    - **Parse Stylesheet**
    - **Build CSSOM Tree**
3. DOM 및 CSSOM을 결합하여 렌더링 트리를 형성합니다. (보이는 것만)
    - **Calculate Style**
    - **Build Render Tree** (DOM + CSSOM)
4. 렌더링 트리에서 레이아웃을 실행하여 엘리먼트가 화면에서 얼마만큼의 공간을 차지하고 어디에 위치해야 하는지에 대한 정보를 계산합니다. (레이아웃 만들기) 
    - **Layout**
    - **Update Layer Tree**
5. 개별 노드를 화면에 페인트합니다.
    - **Paint**
    - **Raster**
    - **Composite Layer**

---

### 1-3. **CRP 관련 개념과 각 단계 특징**

**파싱**

> HTML, CSS, Javascript 등의 문서를 읽고 이를 조작할 수 있는 자료구조로 변환하는 과정임.
> 

**렌더링**

> 문서를 파싱해 만들어낸 자료구조의 일종인 렌더 트리를 기반으로 브라우저 화면에 그 내용을 시각적으로 출력하는 것을 말한다.
> 

**DOM** 

> DOM (DOCUMENT OBJECT MODEL)은 (문서객체모델 트리는) 완전히 구분 분석된 HTML 페이지를 의미한다.
> 
- 이 DOM은 HTML이 브라우저의 렌더링 엔진에의해 파싱되면서 구문을 위에서 아래로 분석하는데 이 구문 분석이 모두 끝나고 HTML파일이 DOM이다.

       `DOM이 CSSOM과 다른점은 부분적으로 문서를 로드할 수 있다는 점.`

**CSSOM** 

> DOM은 페이지의 모든 컨텐츠를 포함하고, CSSOM은 DOM을 스타일링 하기 위한 페이지의 모든 스타일 정보를 포함함.
> 
- CSS는 규칙을 덮어쓸 수 있기 때문에 렌더링 차단 리소스로 간주됨. 때문에 이 CSS가 완전히 구문분석되지 않고는 랜더트리를 구성할 수 없다.

        `즉 DOM과 달리 완전히 CSSOM이 만들어질때까지 렌더트리에 포함되지 않는다.`  


- 또한 `CSS는 스크립트차단 리소스가 될 수 있다.` 왜냐하면 렌더링 엔진이 자바스크립트가 실행되는 구문에 도달하게되면 렌더링엔진은 자바스크립트 런타임 엔진에 역할을 내어준다. `왜냐하면 브라우저는 싱글쓰레드이기 때문에` 자바스크립트파일을 다운받고 실행이 되기전까지 DOM, CSSOM은 진행되지 않는다.

**Render Tree** 

- 렌더 트리는 DOM과 CSSOM를 결합합니다.
- 렌더 트리를 구성하기 위해 브라우저는 DOM 트리의 root에서 시작해 모든 노드는 확인하면서 어떤 CSS 규칙들을 첨부할지 결정합니다.
- 렌더 트리는 오직 보여지는 콘텐츠만 캡쳐합니다. 
- ex. `display: none` , `<head>` 부분은 보여지지 않기에 렌더트리에 포함하지 않습니다.

**Layout** 

> 레이아웃 단계는 요소들이 페이지에서 배치되는 위치와 방법, 각 요소의 너비와 높이 그리고 서로 관련된 위치를 결정합니다.
> 
- 렌더 트리가 생성되고 나면, 레이아웃은 가능해지며 화면의 크기에 의존합니다.

**Paint**

> 페인트 단계는 화면에 픽셀을 그리는 것입니다.
> 
- 렌더 트리가 생성되고 레이아웃이 나타나기 시작하면, 화면에 픽셀을 그릴수 있습니다. 로드시, 전체 화면을 그립니다.
- 그 후에는 브라우저가 필요한 최소 영역만을 다시 그리도록 최적화되어 있기 때문에 영향을 받는 영역만을 화면에 다시 그립니다. 그리는 시간은 렌더 트리에 적용되는 업데이트의 종류가 무엇인지에 따라 달라집니다.

**웹 사이트**

- 다양한 방식으로 그룹으로 묶이거나 연결된 웹 페이지들의 모음이다. 보통 "웹사이트"나 단순히 "사이트"라고 한다.

<img width="329" alt="스크린샷 2023-07-10 오후 7 09 42" src="https://github.com/COW-edu/COW-React-1/assets/98771235/4b8f206e-4ff0-4d8d-aedf-ceb0b4685985">

**웹 페이지**

- 파이어폭스, 구글 크롬, 오페라, MS 익스플로러나 엣지, 애플의 사파리 같은 웹 브라우저에서 보여지는 문서이다. 이런 것들을 단순히 "페이지"라고 하기도 한다.
- 웹 페이지는 텍스트, 이미지, 영상 등으로 형성된 온라인 페이지이다. 또한, 해당 페이지로 연결되는 특정 URL을 제공한다.

<img width="318" alt="스크린샷 2023-07-10 오후 7 12 13" src="https://github.com/COW-edu/COW-React-1/assets/98771235/c3f029a4-18bf-47ea-954f-4ed0c6d86ca2">

**웹 브라우저**

- 웹 브라우저(web browser)는 웹 서버에서 쌍방향 통신하는 HTML 문서나 파일과 연동하고 출력하는 응용 소프트웨어이다.
- 인터넷에서 웹 사이트를 보는 컴퓨터 또는 장치의 응용 프로그램.
- ex ) 구글 크롬, 인터넷 익스플로러, 사파리 등

---